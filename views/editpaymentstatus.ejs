<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title><%= title %></title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="/assets/css/stylee.css">
    <!-- End layout styles -->
    <link rel="shortcut icon" href="/images/images.png" />
  </head>
  <body>  

    <%- include('partials/dashsidebar') %>  

    <%- include('partials/dashnavbar') %>  


    <div class="col-md-6 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title"><%= title %> </h4> 

          <form class="forms-sample" action="/updatepaymentstatus" method="post"> 
            <input type="hidden" name="id"  value="<%= payrecord.id%>">

            <div class="form-group row">
              <label for="fullname" class="col-sm-3 col-form-label">Tenant Fullname</label>
              <div class="col-sm-9">
                <select name="fullname" id="fullname" class="form-control">
                    <% for(let i = 0; i<tenants.length;i++){ %> 
                        <option value="<%= payrecord.fullname%>" selected><%= payrecord.fullname %></option>
                     <option><%= tenants[i] %> </option> 
                     <% } %> 
                 </select>
             </div>
            </div>  


            <div class="form-group row">
              <label for="address" class="col-sm-3 col-form-label">Residence Occupied</label>
              <div class="col-sm-9">
                <select name="address" id="address" class="form-control">
                    <% for(let i = 0; i<tenaddress.length;i++){ %> 
                        <option value="<%= payrecord.address%>" selected><%= payrecord.address%></option>
                        <option><%= tenaddress[i] %> </option> 
                        <% } %> 
                  
                </select>         
             </div>
            </div>  
              
            <div class="form-group row">
              <label for="paymentstatus" class="col-sm-3 col-form-label">Payment Status</label>
              <div class="col-sm-9">
                <select name="paymentstatus" id="paymentstatus" class="form-control">
                    <option value="<%= payrecord.paymentstatus%>" selected><%= payrecord.paymentstatus%></option>
                    <option value="Paid">Paid</option>
                    <option value="Partial Payment">Partial Payment</option> 
                    <option value="Arrears">Arrears</option> 
                    <option value="Advance Payment">Advance Payment</option> 
                   
                </select>              
            </div>
            </div>  

          <div class="mb-3" id="paid" style="display:none;">
            <label for="date" class="col-sm-3 col-form-label">Amount Paid</label>
              <div class="col-sm-9">
                <input type="number" class="form-control" name="amountpaid">
              </div>
          </div> 

          
          <div class="mb-3" id="partialpayment"  style="display:none;">
            <label for="date" class="col-sm-3 col-form-label">Amount Paid</label>
              <div class="col-sm-9">
                <input type="number" class="form-control" name="amountpaid">
              </div>
          </div> 


          <div class="mb-3" id="arrears" style="display:none;">
            <label for="date" class="col-sm-3 col-form-label">Amount Paid</label>
              <div class="col-sm-9">
                <input type="number" class="form-control" name="amountpaid" value="0">
              </div>
          </div> 
          
          <div class="mb-3" id="advancepayment" style="display:none;">
            <label for="date" class="col-sm-3 col-form-label">Amount Paid</label>
              <div class="col-sm-9">
                <input type="number" class="form-control" name="amountpaid">
              </div>
          </div> 

            <div class="form-group row">
                <label for="date" class="col-sm-3 col-form-label">Date Paid</label>
                <div class="col-sm-9">
                  <input type="date" class="form-control" name="date"id="date" value="<%= payrecord.date%>" placeholder="Harare, Mutare, Marondera etc">
                </div>
              </div>  

            <div class="form-group row">
              <label for="month" class="col-sm-3 col-form-label">Month</label>
              <div class="col-sm-9">
                <select name="month" id="month" class="form-control">
                    <option value="<%= payrecord.month%>" selected><%= payrecord.month%></option>
                    <option value="January">January</option>
                    <option value="February">February</option> 
                    <option value="March">March</option> 
                    <option value="April">April</option>\
                    <option value="May">May</option>\
                    <option value="June">June</option>\
                    <option value="July">July</option>\
                    <option value="August">August</option>\
                    <option value="September">September</option>\
                    <option value="October">October</option>\
                    <option value="November">November</option>\
                    <option value="December">December</option>\
                </select>              
            </div>
            </div>

            <div class="form-group row">
              <label for="year" class="col-sm-3 col-form-label">Year</label>
              <div class="col-sm-9">
                <select name="year" id="year" class="form-control">
                    <option value="<%= payrecord.year%>" selected><%= payrecord.year%></option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option> 
                    <option value="2024">2024</option> 
                    <option value="2025">2025</option>\
                  
                </select>             
             </div>
            </div>
            <div class="form-group row">
              <label for="note" class="col-sm-3 col-form-label">Note</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="notes" id="note" value="<%= payrecord.note %>" >
              </div>
            </div>
            

              
 
            
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
       
       

    <!-- plugins:js -->
    <script src="/assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="/assets/vendors/chart.js/Chart.min.js"></script>
    <script src="/assets/js/jquery.cookie.js" type="text/javascript"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="/assets/js/off-canvas.js"></script>
    <script src="/assets/js/hoverable-collapse.js"></script>
    <script src="/assets/js/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="/assets/js/dashboard.js"></script>
    <script src="/assets/js/todolist.js"></script>
    <!-- End custom js for this page -->
  </body>
</html> 

<script>
  $('#paymentstatus').on('change',function(){
                            if( $(this).val()==="Paid"){
                                $("#partialpayment").hide()
                                $("#advancepayment").hide()
                                $("#arrears").hide()
                             $("#paid").show()
                             } else
                              if( $(this).val()==="Partial Payment"){
                                $("#paid").hide()
                                $("#advancepayment").hide()
                                $("#arrears").hide()
                                $("#partialpayment").show()

                             } else
                              if( $(this).val()==="Arrears"){
                                $("#paid").hide()
                                $("#advancepayment").hide()
                                $("#partialpayment").hide()
                                 $("#arrears").show()
                             }
                             else{
                                $("#paid").hide()
                                $("#apartialpayment").hide()
                                $("#arrears").hide()
                                  $("#advancepayment").show()
                              }
                         });

</script>